{"ast":null,"code":"var _jsxFileName = \"/Users/igorfesenko/Desktop/xray-editor/src/ImageEditor/ImageEditor.jsx\",\n  _s = $RefreshSig$();\n// ImageEditor.js\n\nimport React, { useRef, useEffect, useState } from 'react';\nimport './ImageEditor.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ImageEditor({\n  images\n}) {\n  _s();\n  const containerRef = useRef(null);\n  const [gridColumns, setGridColumns] = useState(1);\n  const [imageSize, setImageSize] = useState(0);\n  useEffect(() => {\n    const calculateGridColumns = () => {\n      const containerWidth = containerRef.current.offsetWidth;\n      const imageWidth = imageSize + 20; // Add margin between images\n      const numColumns = Math.floor(containerWidth / imageWidth);\n      return numColumns > 0 ? numColumns : 1; // Ensure at least one column\n    };\n    const updateGridColumns = () => {\n      setGridColumns(calculateGridColumns());\n    };\n    window.addEventListener('resize', updateGridColumns);\n    updateGridColumns();\n    return () => {\n      window.removeEventListener('resize', updateGridColumns);\n    };\n  }, [imageSize]);\n  useEffect(() => {\n    setImageSize(getImageSize());\n  }, [images]);\n  const getImageSize = () => {\n    const numImages = images.length;\n    const viewportWidth = window.innerWidth;\n    const viewportHeight = window.innerHeight;\n    const maxSize = Math.min(viewportWidth, viewportHeight) / Math.ceil(Math.sqrt(numImages));\n    return maxSize;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"image-editor\",\n    ref: containerRef,\n    children: images.map((image, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"image-container\",\n      style: {\n        width: `${100 / gridColumns}%`\n      },\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: URL.createObjectURL(image),\n        alt: `Image ${index}`,\n        className: \"image-item\",\n        style: {\n          maxWidth: imageSize,\n          maxHeight: imageSize\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }, this)\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n}\n_s(ImageEditor, \"0Co5elAWdfxylf8Ckmr2sWd17bg=\");\n_c = ImageEditor;\nexport default ImageEditor;\nvar _c;\n$RefreshReg$(_c, \"ImageEditor\");","map":{"version":3,"names":["React","useRef","useEffect","useState","jsxDEV","_jsxDEV","ImageEditor","images","_s","containerRef","gridColumns","setGridColumns","imageSize","setImageSize","calculateGridColumns","containerWidth","current","offsetWidth","imageWidth","numColumns","Math","floor","updateGridColumns","window","addEventListener","removeEventListener","getImageSize","numImages","length","viewportWidth","innerWidth","viewportHeight","innerHeight","maxSize","min","ceil","sqrt","className","ref","children","map","image","index","style","width","src","URL","createObjectURL","alt","maxWidth","maxHeight","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/igorfesenko/Desktop/xray-editor/src/ImageEditor/ImageEditor.jsx"],"sourcesContent":["// ImageEditor.js\n\nimport React, { useRef, useEffect, useState } from 'react';\nimport './ImageEditor.css';\n\nfunction ImageEditor({ images }) {\n    const containerRef = useRef(null);\n    const [gridColumns, setGridColumns] = useState(1);\n    const [imageSize, setImageSize] = useState(0);\n\n    useEffect(() => {\n        const calculateGridColumns = () => {\n            const containerWidth = containerRef.current.offsetWidth;\n            const imageWidth = imageSize + 20; // Add margin between images\n            const numColumns = Math.floor(containerWidth / imageWidth);\n            return numColumns > 0 ? numColumns : 1; // Ensure at least one column\n        };\n\n        const updateGridColumns = () => {\n            setGridColumns(calculateGridColumns());\n        };\n\n        window.addEventListener('resize', updateGridColumns);\n        updateGridColumns();\n\n        return () => {\n            window.removeEventListener('resize', updateGridColumns);\n        };\n    }, [imageSize]);\n\n    useEffect(() => {\n        setImageSize(getImageSize());\n    }, [images]);\n\n    const getImageSize = () => {\n        const numImages = images.length;\n        const viewportWidth = window.innerWidth;\n        const viewportHeight = window.innerHeight;\n        const maxSize = Math.min(viewportWidth, viewportHeight) / Math.ceil(Math.sqrt(numImages));\n        return maxSize;\n    };\n\n    return (\n        <div className=\"image-editor\" ref={containerRef}>\n            {images.map((image, index) => (\n                <div key={index} className=\"image-container\" style={{ width: `${100 / gridColumns}%` }}>\n                    <img\n                        src={URL.createObjectURL(image)}\n                        alt={`Image ${index}`}\n                        className=\"image-item\"\n                        style={{ maxWidth: imageSize, maxHeight: imageSize }}\n                    />\n                </div>\n            ))}\n        </div>\n    );\n}\n\nexport default ImageEditor;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}